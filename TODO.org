* TODO Adapt staging strategy to file with different basenames
- ArgoCD passes arguments =<resource name>-live.yaml= and =<resource name>=
- Current =kdiff= staging strategy:
  - creates "left" and "right" directories
  - passes "left" and "right" to the comparison function
- This fails if files in left and right do not have the same name

- Possible fixe:
  - Take advantage that we already check argument type,
    and can set =file_compare= variable
  - Pass files directly rather than directories to =compare= executable

* TODO Improve preset executable not found error message
The current message is:
#+begin_src example
Error: Preset transform command is not executable or does not exist: /home/kwentine/.config/kdiff/neat-dyff/transform
#+end_src

- The message should give helpful instructions:
  - how to make the file executable
- The home directory should be abbreviated to ~
* TODO Support verbose debug mode
- Introduce -v|--verbose options
- Introduce a helper to log message with prefix to stderr
- Add some useful debug logs to test it
* TODO Introduce KDIFF_ environment variables
- KDIFF_CONFIG_DIR and KDIFF_RUNTIME_DIR
  - Replace the current variables local to main
  - Use the same default conventions
- KDIFF_PRESET
  - Perhaps useful. Not sure about how yet
